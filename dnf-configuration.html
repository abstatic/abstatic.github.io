<!DOCTYPE html>
<html lang="en">
  <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <title>Coding Mantis</title>

    <meta charset="utf-8" />
    <link rel="stylesheet" href="/theme/css/poole.css"/>
    <link rel="stylesheet" href="/theme/css/syntax.css"/>
    <link rel="stylesheet" href="/theme/css/lanyon.css"/>
    <link rel="stylesheet" href="/theme/css/font-awesome.css"/>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
    <link rel="stylesheet" href="/theme/css/styles.css"/>



    <meta name="tags" contents="computers" />
    <meta name="tags" contents="configuration" />
    <meta name="tags" contents="dnf" />
    <meta name="tags" contents="Fedora" />
    <meta name="tags" contents="Linux" />

  </head>

  <body>
<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="profile">
      <img src="/theme/img/profile.jpg"/>
    </div>
  </div>

  <nav class="sidebar-nav">
  <a class="sidebar-nav-item" href="/">All</a>

      <a class="sidebar-nav-item" href="/category/life.html">Life</a>
      <a class="sidebar-nav-item" href="/category/linux.html">Linux</a>
      <a class="sidebar-nav-item" href="/category/programming.html">Programming</a>
      <a class="sidebar-nav-item" href="/category/random.html">Random</a>

  <a class="sidebar-nav-item" href="/archives">Blog Archives</a>
  <a class="sidebar-nav-item" href="/tags">Browse By Tags</a>
  <a class="sidebar-nav-item" href="/pages/about">About</a>
  </nav>

  <div class="sidebar-item">
    <p>Follow On:</p>
    <ul style="list-style: none;">
      <li>
        <a href="https://plus.google.com/u/0/+AbhishekShrivastava1">
          <i class="fa fa-google-plus-square"></i>  Google
        </a>
      </li>
      <li>
        <a href="https://in.linkedin.com/in/abshrivastava1">
          <i class="fa fa-linkedin-square"></i>  LinkedIn
        </a>
      </li>
      <li>
        <a href="https://github.com/abstatic">
          <i class="fa fa-github-square"></i>  Github
        </a>
      </li>
      <li>
        <a href="http://stackoverflow.com/users/3594927/abhishek-m">
          <i class="fa fa-stack-overflow"></i>  StackOverflow 
        </a>
      </li>
    </ul>
    <p class="tiny-note">
      <a class="muted" href="#">© Abhishek Shrivastava</a>
    </p>
  </div>
</div>    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h2 class="masthead-title">
            <a href="/" title="Home">Coding Mantis</a>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="posts">
<div class="post">
    <h1 class="post-title">
      <span class="caps">DNF</span>&nbsp;Configuration
    </h1>
    <span class="post-date">Fri 04 September 2015</span>

    <p>With arrival of Fedora 22, dnf has become the distro&#8217;s default package manager, by
replacing legacy yum package manager. For those of you who didn&#8217;t know, dnf has been part of Fedora all the way back from Fedora 18.<br />
dnf has been proven to be faster than yum, and is better and faster in handling&nbsp;dependencies.  </p>
<p>Configuration of dnf&nbsp;:</p>
<p><span class="caps">TBH</span>, I find the default configuration of dnf pretty horrendous. So, I took the time to go through the documentation and configure a optimum
dnf config file applicable to anyone, the dnf config file can be found
at <em>/etc/dnf/dnf.conf</em>  </p>
<p><strong>1. clean_requirements_on_remove:</strong> Use this option if you want to
delete unused dependencies when<br />
you run dnf&nbsp;remove.  </p>
<div class="highlight"><pre>    e.g. clean_requirements_on_remove=true
</pre></div>


<p><strong>2. debuglevel:</strong> Use this when you want to have more of debug data printed out to stdout, when any transaction&nbsp;fails.</p>
<div class="highlight"><pre>    e.g. debuglevel=2 (range of 0-10)
</pre></div>


<p><strong>3. keepcache:</strong> We definitely need this value set to true. This value was set to true by default in yum.
Basically what it does, is it preserves your downloaded packages if, in case your transaction fails or quits due to connectivity&nbsp;issues.  </p>
<div class="highlight"><pre>    e.g. keepcache=true
</pre></div>


<p>If you start to run out of data due to cache you can just sudo in and delete all the cache data, its&nbsp;harmless.  </p>
<p><strong>4. deltarpm:</strong> Delta <span class="caps">RPM</span> packages contain the difference between an old and a new
version of an <span class="caps">RPM</span> package. Applying a delta <span class="caps">RPM</span> on an old <span class="caps">RPM</span> results in the complete new <span class="caps">RPM</span>.
 Always set to true. Using delta <span class="caps">RPM</span> takes <span class="caps">CPU</span> and I/O cycles&nbsp;though.  </p>
<div class="highlight"><pre>    e.g. deltarpm=true
</pre></div>


<p><strong>5. metadata_expire:</strong> Set to -1 as I don&#8217;t live on the bleeding edge and
don&#8217;t want to download 20-30Mb of metadata everytime I want to install a package. Another
alternative to this is to use the command line flag -C while executing dnf, this will force dnf to use the system 
cache even if the metadata is&nbsp;expired.</p>
<div class="highlight"><pre>    e.g. metadata_expire=-1 (-1 for never or time in seconds for between expirations)
</pre></div>


<p><strong>6. fastestmirror:</strong> Set to true to override the repo default metrics and prefer the fastest mirror&nbsp;first.</p>
<div class="highlight"><pre>    e.g. fastestmirror=true
</pre></div>
  </div>
</div>
    <div class="comments">
      <h1>Comments</h1>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "dnf-configuration.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://codingmantis.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>
      </div>

      <label for="sidebar-checkbox" class="sidebar-toggle"></label>

      <script>
        (function(document) {
          var i = 0;
          // snip empty header rows since markdown can't
          var rows = document.querySelectorAll('tr');
          for(i=0; i<rows.length; i++) {
            var ths = rows[i].querySelectorAll('th');
            var rowlen = rows[i].children.length;
            if (ths.length > 0 && ths.length === rowlen) {
              rows[i].remove();
            }
          }
        })(document);
      </script>

      <script>
        /* Lanyon & Poole are Copyright (c) 2014 Mark Otto. Adapted to Pelican 20141223 and extended a bit by @thomaswilley */
        (function(document) {
          var toggle = document.querySelector('.sidebar-toggle');
          var sidebar = document.querySelector('#sidebar');
          var checkbox = document.querySelector('#sidebar-checkbox');
          document.addEventListener('click', function(e) {
            var target = e.target;
            if(!checkbox.checked ||
            sidebar.contains(target) ||
            (target === checkbox || target === toggle)) return;
            checkbox.checked = false;
            }, false);
            })(document);
      </script>
     </div>
  </body>
</html>